(this["webpackJsonpeasy-form"]=this["webpackJsonpeasy-form"]||[]).push([[0],{135:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},153:function(e,t,c){},154:function(e,t,c){},155:function(e,t,c){},156:function(e,t,c){},173:function(e,t,c){},174:function(e,t,c){},176:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(19),o=c.n(s),i=(c(81),c(20)),l=c(73),r=c.n(l),u=c(7),j=c(48),d=c(4),b=c(5),O=c(14),m=c.n(O),f=c(28),h=c(8),p=(c(135),c(2)),x=["title","className"],v=a.a.memo((function(e){var t=e.title,c=e.className,a=Object(h.a)(e,x),s=Object(b.a)("input",c,{disabled:a.disabled}),o=Object(n.useMemo)((function(){return m()(Object(u.a)({},"checkbox-".concat(Date.now()),"checkbox-".concat(Date.now())))}),[]);return Object(p.jsxs)("label",{htmlFor:o,className:s,children:[Object(p.jsx)("span",{children:t}),Object(p.jsx)("input",Object(d.a)({id:o},a))]})}));v.defaultProps={title:"",className:""};c(137);var N=a.a.memo((function(e){var t=e.gap,c=e.className,n=e.children,a=e.isColumn,s=Object(b.a)("margin-group",c),o={gap:t,flexDirection:a?"column":""};return Object(p.jsx)("div",{style:o,className:s,children:n})})),k=(c(138),["className","children"]),g=function(e){var t=e.className,c=e.children,n=Object(h.a)(e,k),a=Object(b.a)("button",t,{disabled:n.disabled});return Object(p.jsx)("button",Object(d.a)(Object(d.a)({className:a},n),{},{children:c}))};g.defaultProps={className:""};var C=c(74),_=(c(153),["className","title"]),y=function(e){var t=e.className,c=e.title,a=Object(h.a)(e,_),s=Object(b.a)("checkbox",t,{checked:a.checked},{disabled:a.disabled}),o=Object(n.useMemo)((function(){return m()(Object(u.a)({},"checkbox-".concat(Date.now()),"checkbox-".concat(Date.now())))}),[]);return Object(p.jsxs)("label",{htmlFor:o,className:s,children:[Object(p.jsx)("input",Object(d.a)({id:o,type:"checkbox",style:{display:"none"}},a)),Object(p.jsx)("span",{className:"checkbox__box"}),Object(p.jsx)("span",{className:"checkbox__title",children:Object(C.a)(c)})]})};y.defaultProps={className:"",title:""};var w=function(e){var t=e.className,c=e.onClick;return Object(p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"-40 0 427 427.001",className:t,onClick:c,children:[Object(p.jsx)("path",{d:"M232.398 154.703c-5.523 0-10 4.477-10 10v189c0 5.52 4.477 10 10 10 5.524 0 10-4.48 10-10v-189c0-5.523-4.476-10-10-10zm0 0M114.398 154.703c-5.523 0-10 4.477-10 10v189c0 5.52 4.477 10 10 10 5.524 0 10-4.48 10-10v-189c0-5.523-4.476-10-10-10zm0 0"}),Object(p.jsx)("path",{d:"M28.398 127.121V373.5c0 14.563 5.34 28.238 14.668 38.05A49.246 49.246 0 0078.796 427H268a49.233 49.233 0 0035.73-15.45c9.329-9.812 14.668-23.487 14.668-38.05V127.121c18.543-4.922 30.559-22.836 28.079-41.863-2.485-19.024-18.692-33.254-37.88-33.258h-51.199V39.5a39.289 39.289 0 00-11.539-28.031A39.288 39.288 0 00217.797 0H129a39.288 39.288 0 00-28.063 11.469A39.289 39.289 0 0089.398 39.5V52H38.2C19.012 52.004 2.805 66.234.32 85.258c-2.48 19.027 9.535 36.941 28.078 41.863zM268 407H78.797c-17.098 0-30.399-14.688-30.399-33.5V128h250v245.5c0 18.813-13.3 33.5-30.398 33.5zM109.398 39.5a19.25 19.25 0 015.676-13.895A19.26 19.26 0 01129 20h88.797a19.26 19.26 0 0113.926 5.605 19.244 19.244 0 015.675 13.895V52h-128zM38.2 72h270.399c9.941 0 18 8.059 18 18s-8.059 18-18 18H38.199c-9.941 0-18-8.059-18-18s8.059-18 18-18zm0 0"}),Object(p.jsx)("path",{d:"M173.398 154.703c-5.523 0-10 4.477-10 10v189c0 5.52 4.477 10 10 10 5.524 0 10-4.48 10-10v-189c0-5.523-4.476-10-10-10zm0 0"})]})},R=(c(154),function(e){var t=e.className,c=e.onChange,n=e.onClick,a=e.onCheck,s=e.resources,o=e.checked,i=e.value,l=e.onDelete,r=e.onDeleteResource,u=Object(b.a)("info-block",t);return Object(p.jsxs)("div",{className:u,children:[Object(p.jsxs)(N,{isColumn:!0,gap:20,children:[Object(p.jsxs)(N,{gap:30,className:"info-block-addNew",children:[Object(p.jsx)(v,{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u0432\u043e\u0441\u0442 URL",type:"text",name:"suffix",onChange:c,value:i}),Object(p.jsx)(g,{onClick:n,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0440\u0435\u0441\u0443\u0440\u0441"})]}),Object(p.jsx)(y,{onChange:a,name:"team",checked:o,title:"\u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0433\u0430\u043b\u043e\u0447\u043a\u0443, \u0435\u0441\u043b\u0438 \u043d\u0430 \u044d\u0442\u043e\u043c URL \u0431\u0443\u0434\u0443\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(p.jsxs)("div",{className:"info-block-content",children:[Object(p.jsxs)("div",{className:"info-block-content-title",children:[Object(p.jsx)("p",{className:"info-block__number",children:"\u2116"}),Object(p.jsx)("p",{className:"info-block__url",children:"\u0412\u043d\u0435\u0448\u043d\u0438\u0439 \u0440\u0435\u0441\u0443\u0440\u0441"}),Object(p.jsx)("p",{className:"info-block__count",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a"})]}),Object(p.jsx)(N,{isColumn:!0,className:"info-block__sources",gap:10,children:s.map((function(e,t){return Object(p.jsxs)("div",{className:"info-block-source",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"info-block__number",children:t+1}),Object(p.jsx)("p",{className:"info-block__url",children:e.url}),Object(p.jsx)("p",{className:"info-block__count",children:e.people_count})]}),Object(p.jsx)(w,{onClick:function(){return r(e.id)}})]},m()(e))}))})]})]}),Object(p.jsx)(w,{onClick:l})]})});R.propProps={},R.defaultProps={};c(155);var M=["className","show","children","idNode"],P=a.a.memo((function(e){var t=e.className,c=e.show,n=e.children,a=e.idNode,s=Object(h.a)(e,M),i=Object(b.a)("modal",t,{hidden:!c}),l=document.getElementById(a||"root");return o.a.createPortal(Object(p.jsx)("div",Object(d.a)(Object(d.a)({id:"portal",className:i},s),{},{children:n})),l)}));P.defaultProps={className:"",idNode:""};c(156);var D=a.a.memo((function(e){var t=e.className,c=e.onAdd,a=e.popupRef,s=Object(n.useState)({url:"",people_count:""}),o=Object(i.a)(s,2),l=o[0],r=o[1],j=Object(b.a)("popup",t),O=Object(n.useCallback)((function(e){var t=e.target;r(Object(d.a)(Object(d.a)({},l),{},Object(u.a)({},t.name,t.value)))}),[l]),m=Object(n.useCallback)((function(){c(Object(d.a)(Object(d.a)({},l),{},{id:Date.now()})),r({url:"",people_count:""})}),[l,c]);return Object(p.jsxs)("div",{className:j,ref:a,children:[Object(p.jsx)("h2",{children:"Popup"}),Object(p.jsxs)(N,{isColumn:!0,gap:20,children:[Object(p.jsx)(v,{type:"text",onChange:O,name:"url",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0440\u0435\u0441\u0443\u0440\u0441",value:l.url}),Object(p.jsx)(v,{type:"text",onChange:O,name:"people_count",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a",value:l.people_count})]}),Object(p.jsx)("p",{className:"popup__prompt",children:"\u041e\u0441\u0442\u0430\u0432\u044c \u043f\u0443\u0441\u0442\u044b\u043c \u0435\u0441\u043b\u0438 \u043d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e"}),Object(p.jsx)(g,{onClick:m,children:" \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0440\u0435\u0441\u0443\u0440\u0441 "})]})})),Q=c(75),S=c.n(Q),z=(c(173),["style","title","value","name","onChange","className"]),L=function(e){var t=e.style,c=e.title,a=e.value,s=e.name,o=e.onChange,i=e.className,l=Object(h.a)(e,z),r=Object(b.a)("input-date",i),u=Object(n.useCallback)((function(e){o({name:s,value:e})}),[o,s]);return Object(p.jsxs)("div",{style:t,className:r,children:[Object(p.jsx)("p",{children:c}),Object(p.jsx)(S.a,Object(d.a)(Object(d.a)({value:a,onChange:u},l),{},{format:"dd-MM-yyyy"}))]})},E=(c(174),c(76)),A=c.n(E),F=[{name:"city",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"},{name:"event",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f"}],V=a.a.memo((function(e){var t=e.className,c=e.onSend,a=e.state,s=e.onUpdateState,o=Object(n.useRef)(null),l=Object(b.a)("add-event",t),r=Object(n.useState)({curSuffix:0,showPopup:!1}),O=Object(i.a)(r,2),h=O[0],x=O[1];!function(e,t){Object(n.useEffect)((function(){var c=function(c){e.current&&!e.current.contains(c.target)&&t(c)};return document.addEventListener("mousedown",c),document.addEventListener("touchstart",c),function(){document.removeEventListener("mousedown",c),document.removeEventListener("touchstart",c)}}),[e,t])}(o,(function(){x({curSuffix:0,showPopup:!1})}));var k=Object(n.useCallback)((function(){s(Object(d.a)(Object(d.a)({},a),{},{QRs:[{id:Date.now(),suffix:"",team:"no",resources:[]}].concat(Object(j.a)(a.QRs))}))}),[a,s]),C=Object(n.useCallback)((function(e){var t=Object(f.a)(a,(function(t){var c=t.QRs.find((function(e){return e.id===h.curSuffix}));c.resources=[e].concat(Object(j.a)(c.resources))}));s(t),x({curSuffix:0,showPopup:!1})}),[a,s,h]),_=Object(n.useCallback)((function(e){var t=e.target;s(Object(d.a)(Object(d.a)({},a),{},Object(u.a)({},t.name,t.value)))}),[a,s]),y=Object(n.useCallback)((function(e){var t;s(Object(d.a)(Object(d.a)({},a),{},(t={},Object(u.a)(t,e.name,A()(e.value).format("DD-MM-YYYY")),Object(u.a)(t,"".concat(e.name,"_picker"),e.value),t)))}),[a,s]);return Object(p.jsxs)("div",{className:l,children:[Object(p.jsx)(P,{show:h.showPopup,children:Object(p.jsx)(D,{popupRef:o,onAdd:C})}),Object(p.jsxs)(N,{gap:30,isColumn:!0,children:[Object(p.jsx)(N,{gap:30,className:"add-event__input-fields",children:F.map((function(e){return Object(p.jsx)(v,{name:e.name,title:e.title,onChange:_},m()(e))}))}),Object(p.jsxs)(N,{gap:30,className:"add-event__input-fields",children:[Object(p.jsx)(L,{style:h.showPopup?{zIndex:-1}:{zIndex:0},title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f",onChange:y,format:"dd-MM-yyyy",value:a.date_picker,name:"date"}),Object(p.jsx)(v,{name:"area",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e",onChange:_})]}),Object(p.jsxs)(N,{gap:20,children:[Object(p.jsx)(g,{className:"add-event__add-suffix",onClick:k,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0443\u0444\u0444\u0438\u043a\u0441 \u043d\u0430 URL"}),Object(p.jsx)(g,{className:"add-event__send",onClick:c,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),Object(p.jsx)(N,{gap:20,isColumn:!0,children:a.QRs.map((function(e){return Object(p.jsx)(R,{value:e.suffix,onChange:function(t){return function(e,t){var c=t.target,n=Object(f.a)(a,(function(t){console.log(e,a.QRs),t.QRs.find((function(t){return t.id===e})).suffix=c.value}));s(Object(d.a)({},n))}(e.id,t)},onClick:function(){return t=e.id,void x({curSuffix:t,showPopup:!0});var t},resources:e.resources,onCheck:function(t){return function(e,t){var c=t.target,n=Object(f.a)(a,(function(t){console.log(e,a.QRs),t.QRs.find((function(t){return t.id===e})).team=c.checked?"yes":"no"}));s(n)}(e.id,t)},checked:"yes"===e.team,onDelete:function(){return t=e.id,void s(Object(d.a)(Object(d.a)({},a),{},{QRs:a.QRs.filter((function(e){return e.id!==t}))}));var t},onDeleteResource:function(t){return function(e,t){var c=Object(f.a)(a,(function(c){console.log(e,a.QRs);var n=c.QRs.find((function(t){return t.id===e}));n.resources=n.resources.filter((function(e){return e.id!==t}))}));s(c)}(e.id,t)}},e.id)}))})]})]})})),H=a.a.memo((function(){var e=Object(n.useState)({event:"",city:"",date:"",area:"",QRs:[]}),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useCallback)((function(){r.a.post("http://localhost/admin/addEvent",c),a({event:"",city:"",date:"",area:"",QRs:[]})}),[c]);return Object(p.jsx)(V,{onUpdateState:a,state:c,onSend:s})}));var I=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(H,{})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,178)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),s(e),o(e)}))};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(I,{})}),document.getElementById("root")),U()},81:function(e,t,c){}},[[176,1,2]]]);
//# sourceMappingURL=main.28fe6774.chunk.js.map